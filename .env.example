MODE=signals_5m
KLINE_SOURCE=bybit
OI_SOURCE=bybit
# адаптивные пороги (мягкие, чтобы увидеть первые срабатывания)
OI_MIN_PCT=0.0
# отключены грубые отсечки по обороту
UNIVERSE_MODE=LIST
UNIVERSE_LIST=0GUSDT,1000000BABYDOGEUSDT,1000000CHEEMSUSDT,1000000MOGUSDT,1000000PEIPEIUSDT,10000COQUSDT,10000ELONUSDT,10000LADYSUSDT,10000QUBICUSDT,10000SATSUSDT,10000WENUSDT,1000BONKUSDT,1000BTTUSDT,1000CATUSDT,1000FLOKIUSDT,1000LUNCUSDT,1000NEIROCTOUSDT,1000PEPEUSDT,1000RATSUSDT,1000TAGUSDT,1000TOSHIUSDT,1000TURBOUSDT,1000XECUSDT,1000XUSDT,1INCHUSDT,A2ZUSDT,A8USDT,AAVEUSDT,ACEUSDT,ACHUSDT,ACTUSDT,ACXUSDT,ADAUSDT,AERGOUSDT,AEROUSDT,AEVOUSDT,AGIUSDT,AGLDUSDT,AGTUSDT,AI16ZUSDT,AIAUSDT,AINUSDT,AIOUSDT,AIOZUSDT,AIUSDT,AIXBTUSDT,AKEUSDT,AKTUSDT,ALCHUSDT,ALEOUSDT,ALGOUSDT,ALICEUSDT,ALPHAUSDT,ALPINEUSDT,ALTUSDT,ALUUSDT,ANIMEUSDT,ANKRUSDT,APEUSDT,APEXUSDT,API3USDT,APTUSDT,ARBUSDT,ARCUSDT,ARIAUSDT,ARKMUSDT,ARKUSDT,ARPAUSDT,ARUSDT,ASPUSDT,ASRUSDT,ASTERUSDT,ASTRUSDT,ATAUSDT,ATHUSDT,ATOMUSDT,AUCTIONUSDT,AUDIOUSDT,AUSDT,AVAAIUSDT,AVAILUSDT,AVAUSDT,AVAXUSDT,AVLUSDT,AVNTUSDT,AWEUSDT,AXLUSDT,AXSUSDT,B2USDT,B3USDT,BABYUSDT,BADGERUSDT,BAKEUSDT,BANANAS31USDT,BANANAUSDT,BANDUSDT,BANKUSDT,BANUSDT,BARDUSDT,BATUSDT,BBUSDT,BCHUSDT,BDXNUSDT,BEAMUSDT,BELUSDT,BERAUSDT,BICOUSDT,BIGTIMEUSDT,BIOUSDT,BLASTUSDT,BLESSUSDT,BLURUSDT,BMTUSDT,BNBUSDT,BNTUSDT,BOBAUSDT,BOMEUSDT,BRETTUSDT,BROCCOLIUSDT,BRUSDT,BSUUSDT,BSVUSDT,BTCUSDT,BTRUSDT,BUSDT,C98USDT,CAKEUSDT,CAMPUSDT,CARVUSDT,CATIUSDT,CELOUSDT,CELRUSDT,CETUSUSDT,CFXUSDT,CGPTUSDT,CHESSUSDT,CHILLGUYUSDT,CHRUSDT,CHZUSDT,CKBUSDT,CLANKERUSDT,CLOUDUSDT,COAIUSDT,COMPUSDT,COOKIEUSDT,COOKUSDT,COREUSDT,COSUSDT,COTIUSDT,COWUSDT,CPOOLUSDT,CROSSUSDT,CROUSDT,CRVUSDT,CTCUSDT,CTKUSDT,CTSIUSDT,CUDISUSDT,CUSDT,CVCUSDT,CVXUSDT,CYBERUSDT,DAMUSDT,DASHUSDT,DBRUSDT,DEEPUSDT,DEGENUSDT,DENTUSDT,DEXEUSDT,DGBUSDT,DIAUSDT,DMCUSDT,DODOUSDT,DOGEUSDT,DOGSUSDT,DOGUSDT,DOLOUSDT,DOODUSDT,DOTUSDT,DRIFTUSDT,DUCKUSDT,DUSKUSDT,DYDXUSDT,DYMUSDT,EDENUSDT,EDUUSDT,EGLDUSDT,EIGENUSDT,ELXUSDT,ENAUSDT,ENJUSDT,ENSUSDT,EPICUSDT,EPTUSDT,ERAUSDT,ESPORTSUSDT,ESUSDT,ETCUSDT,ETHBTCUSDT,ETHFIUSDT,ETHUSDT,ETHWUSDT,FARTCOINUSDT,FFUSDT,FHEUSDT,FIDAUSDT,FILUSDT,FIOUSDT,FISUSDT,FLMUSDT,FLOCKUSDT,FLOWUSDT,FLRUSDT,FLUIDUSDT,FLUXUSDT,FORMUSDT,FORTHUSDT,FRAGUSDT,FUELUSDT,FUSDT,FWOGUSDT,FXSUSDT,GALAUSDT,GASUSDT,GIGAUSDT,GLMRUSDT,GLMUSDT,GMTUSDT,GMXUSDT,GNOUSDT,GOATUSDT,GODSUSDT,GORKUSDT,GPSUSDT,GRASSUSDT,GRIFFAINUSDT,GRTUSDT,GTCUSDT,GUNUSDT,GUSDT,HAEDALUSDT,HBARUSDT,HEIUSDT,HEMIUSDT,HFTUSDT,HIFIUSDT,HIGHUSDT,HIPPOUSDT,HIVEUSDT,HMSTRUSDT,HNTUSDT,HOLOUSDT,HOMEUSDT,HOOKUSDT,HOTUSDT,HPOS10IUSDT,HUMAUSDT,HUSDT,HYPERUSDT,HYPEUSDT,ICNTUSDT,ICPUSDT,ICXUSDT,IDEXUSDT,IDUSDT,ILVUSDT,IMXUSDT,INITUSDT,INJUSDT,INUSDT,IOSTUSDT,IOTAUSDT,IOTXUSDT,IOUSDT,IPUSDT,JASMYUSDT,JELLYJELLYUSDT,JOEUSDT,JSTUSDT,JTOUSDT,JUPUSDT,JUSDT,KAIAUSDT,KAITOUSDT,KASUSDT,KAVAUSDT,KDAUSDT,KERNELUSDT,KMNOUSDT,KNCUSDT,KSMUSDT,KUSDT,L3USDT,LAUNCHCOINUSDT,LAUSDT,LDOUSDT,LIGHTUSDT,LINEAUSDT,LINKUSDT,LISTAUSDT,LOOKSUSDT,LPTUSDT,LQTYUSDT,LRCUSDT,LSKUSDT,LTCUSDT,LUMIAUSDT,LUNA2USDT,MAGICUSDT,MAJORUSDT,MANAUSDT,MANTAUSDT,MASAUSDT,MASKUSDT,MAVIAUSDT,MAVUSDT,MBOXUSDT,MELANIAUSDT,MEMEUSDT,MERLUSDT,METISUSDT,MEUSDT,MEWUSDT,MILKUSDT,MINAUSDT,MIRAUSDT,MITOUSDT,MLNUSDT,MNTUSDT,MOCAUSDT,MOODENGUSDT,MORPHOUSDT,MOVEUSDT,MOVRUSDT,MTLUSDT,MUBARAKUSDT,MUSDT,MVLUSDT,MYRIAUSDT,MYROUSDT,MYXUSDT,NAORISUSDT,NEARUSDT,NEOUSDT,NEWTUSDT,NFPUSDT,NILUSDT,NKNUSDT,NMRUSDT,NODEUSDT,NOMUSDT,NOTUSDT,NSUSDT,NTRNUSDT,NXPCUSDT,OBOLUSDT,OBTUSDT,OGNUSDT,OGUSDT,OKBUSDT,OLUSDT,OMUSDT,ONDOUSDT,ONEUSDT,ONGUSDT,ONTUSDT,OPENUSDT,OPUSDT,ORBSUSDT,ORCAUSDT,ORDERUSDT,ORDIUSDT,OSMOUSDT,OXTUSDT,PARTIUSDT,PAXGUSDT,PEAQUSDT,PENDLEUSDT,PENGUUSDT,PEOPLEUSDT,PERPUSDT,PHAUSDT,PHBUSDT,PIPPINUSDT,PIXELUSDT,PLUMEUSDT,PNUTUSDT,POLUSDT,POLYXUSDT,PONKEUSDT,POPCATUSDT,PORTALUSDT,POWRUSDT,PRCLUSDT,PRIMEUSDT,PROMPTUSDT,PROMUSDT,PROVEUSDT,PTBUSDT,PUFFERUSDT,PUMPBTCUSDT,PUMPFUNUSDT,PUNDIXUSDT,PYRUSDT,PYTHUSDT,QIUSDT,QNTUSDT,QTUMUSDT,QUICKUSDT,QUSDT,RADUSDT,RAREUSDT,RAYDIUMUSDT,RDNTUSDT,REDUSDT,RENDERUSDT,REQUSDT,RESOLVUSDT,REXUSDT,REZUSDT,RFCUSDT,RHEAUSDT,RIFUSDT,RLCUSDT,RLUSDUSDT,ROAMUSDT,RONINUSDT,ROSEUSDT,RPLUSDT,RSRUSDT,RSS3USDT,RUNEUSDT,RVNUSDT,SAFEUSDT,SAGAUSDT,SAHARAUSDT,SANDUSDT,SAPIENUSDT,SAROSUSDT,SCAUSDT,SCRTUSDT,SCRUSDT,SCUSDT,SDUSDT,SEIUSDT,SENDUSDT,SERAPHUSDT,SFPUSDT,SHELLUSDT,SHIB1000USDT,SIGNUSDT,SIRENUSDT,SKATEUSDT,SKLUSDT,SKYAIUSDT,SKYUSDT,SLPUSDT,SNTUSDT,SNXUSDT,SOLAYERUSDT,SOLOUSDT,SOLUSDT,SOLVUSDT,SOMIUSDT,SONICUSDT,SOONUSDT,SOPHUSDT,SOSOUSDT,SPECUSDT,SPELLUSDT,SPKUSDT,SPXUSDT,SQDUSDT,SSVUSDT,STBLUSDT,STEEMUSDT,STGUSDT,STORJUSDT,STOUSDT,STRKUSDT,STXUSDT,SUIUSDT,SUNDOGUSDT,SUNUSDT,SUPERUSDT,SUSDT,SUSHIUSDT,SWARMSUSDT,SWEATUSDT,SWELLUSDT,SXPUSDT,SXTUSDT,SYNUSDT,SYRUPUSDT,SYSUSDT,TACUSDT,TAIKOUSDT,TAIUSDT,TANSSIUSDT,TAOUSDT,TAUSDT,THETAUSDT,THEUSDT,TIAUSDT,TLMUSDT,TNSRUSDT,TOKENUSDT,TONUSDT,TOWNSUSDT,TRBUSDT,TREEUSDT,TRUMPUSDT,TRUTHUSDT,TRUUSDT,TRXUSDT,TSTBSCUSDT,TUSDT,TUTUSDT,TWTUSDT,UBUSDT,UMAUSDT,UNIUSDT,USD1USDT,USDCUSDT,USDEUSDT,USELESSUSDT,USTCUSDT,USUALUSDT,VANAUSDT,VANRYUSDT,VELODROMEUSDT,VELOUSDT,VELVETUSDT,VETUSDT,VFYUSDT,VICUSDT,VINEUSDT,VIRTUALUSDT,VOXELUSDT,VRUSDT,VTHOUSDT,VVVUSDT,WALUSDT,WAVESUSDT,WAXPUSDT,WCTUSDT,WIFUSDT,WLDUSDT,WLFIUSDT,WOOUSDT,WUSDT,XAIUSDT,XANUSDT,XAUTUSDT,XCHUSDT,XCNUSDT,XDCUSDT,XEMUSDT,XIONUSDT,XLMUSDT,XMRUSDT,XNOUSDT,XNYUSDT,XPINUSDT,XPLUSDT,XRPUSDT,XTERUSDT,XTZUSDT,XVGUSDT,XVSUSDT,YALAUSDT,YFIUSDT,YGGUSDT,YZYUSDT,ZBCNUSDT,ZECUSDT,ZENTUSDT,ZENUSDT,ZEREBROUSDT,ZETAUSDT,ZEUSUSDT,ZILUSDT,ZKCUSDT,ZKUSDT,ZORAUSDT,ZRCUSDT,ZROUSDT,ZRXUSDT
TG_MIN_Z=3.0
TG_MIN_VOLX=3.0
TG_MIN_VOL24H=50000000
# запятая-разделитель; можно расширять
TG_SKIP_SYMBOLS=USDCUSDT,USDPUSDT,USDEUSDT,USD1USDT,WBTCUSDT,WBETHUSDT
PORT=8080
ADAPTIVE_SIGNALS=true
BASELINE_5M_WINDOW=48
PRICE_Z_5M=1.6
VOL_MULT_MEDIAN_5M=1.4
OI_Z_5M=0.8
DEBOUNCE_BARS_5M=1
# отсечём совсем микро-ликвид (чтобы не сыпались мемы)
MIN_NOTIONAL_USD=250000
NOTIONAL_REL_PCTL=0.0
# сетевые таймауты форвардера
# направленные сигналы (строже можно поднять значения)

# ЛИКВИДНОСТЬ: минимум $20M суточного оборота (можно 30000000/50000000)
# OI окно/интервал
# опрос и сеть
# строго запрещаем трактовать OI=None как рост
# ядро
# пороги классификации (только Bybit linear)
# окно/интервал для OI на Bybit v5
# опрос ядра
# сетевые таймауты/ретраи
# ограничение анти-флуда на один тик
# строго: если OI не удалось получить — СКИП (не подменяем на "↑")
# Пороги направления (5m-бары от ядра)
# 15m-консенсус (сколько подряд 5m-баров должны соответствовать порогам)
# OI окно/интервал (Bybit v5, линейные фьючи)
# Опрос / сеть / антифлуд
# Если много тикеров без линейных фьючей и OI не приходит — можно временно дать:
# FORWARD_ALLOW_OI_NONE=true
# пороги (ядро даёт 5m бары)
# консенсус: сколько подряд 5m-баров должны пройти пороги (3x5m ≈ 15m)
# OI (Bybit linear)
# опрос/сети/антифлуд/кулдаун
# пороги ядра (5m-бары)
# консенсус по барам (2x5m ≈ 10 мин; если хочешь 15м — поставь 3)
# OI на Bybit v5 (лучше 15min окно для устойчивого z)
# OI обязателен (никакого подменного «↑»)
# опрос/сеть/антифлуд/кулдаун
# ультра-мягкие пороги (5m)
# ликвидность (оставим жёстко)
# консенсус
# OI окно (пусть покороче для “живости”)
# опрос/сети/антифлуд
# ограничим пачку за тик, но щедро
# кулдаун, чтобы один и тот же символ не спамил
# Пороговые условия (ядро: 5m-бары)
FORWARD_MIN_Z=2.6
FORWARD_MIN_VOLX=2.4
# Консенсус (подряд 5m-баров)
FORWARD_CONSENSUS_BARS=3
FORWARD_OI_WINDOW=48
FORWARD_OI_INTERVAL=5min
FORWARD_ALLOW_OI_NONE=false
# Антифлуд / кулдаун
FORWARD_POLL_SEC=15
FORWARD_SEND_LIMIT=1
FORWARD_COOLDOWN_MIN=30
# Сети
FORWARD_TIMEOUT_CONNECT=5
FORWARD_TIMEOUT_READ=30
FORWARD_MAX_RETRIES=2
FORWARD_RETRY_SLEEP=1.0
FORWARD_MIN_Z_SHORT=1.8
TELEGRAM_BOT_TOKEN="7709898494:AAF7K5Im6mtX5R4PrqRsov2X4STm6aKcNtw"
TELEGRAM_CHAT_ID="816505831"
# PRE-этап включён
# Сколько 5m-свечей живёт PRE (потом «гаснет» сам)
# Для PRE разрешаем только «OI ≈0» (не вниз). Если хотите — можно поставить false, тогда PRE будет и при OI↓
# Кулдаун для повторного PRE по одному символу (мин)
HTTP_PORT=8080
HOST=http://127.0.0.1:8080
FORWARD_REQUIRE_OI=true
FORWARD_MIN_VOL24H=50000000
FORWARD_MIN_OIZ=1.5
TELEGRAM_POLLING=false
MIN_INTERVAL_SEC=120
# snapshot fixed 2025-10-06_21:45:34
OI_ENABLE=1
TG_ALLOW_TYPES=confirmed_long,confirmed_short
TG_BLOCK_TYPES=pre_long,pre_short
# === hard override (must be the last copy) ===
FORWARD_PRE_ENABLED=false
FORWARD_PRE_TTL_BARS=0
FORWARD_PRE_REQUIRE_OI_FLAT=true
FORWARD_PRE_COOLDOWN_MIN=999

# ядро: строгие подтверждённые
FORWARD_MIN_Z=2.6
FORWARD_MIN_VOLX=2.4
FORWARD_MIN_VOL24H=50000000
FORWARD_MIN_OIZ=1.5
FORWARD_CONSENSUS_BARS=3
FORWARD_REQUIRE_OI=true
FORWARD_POLL_SEC=15
FORWARD_SEND_LIMIT=1
FORWARD_COOLDOWN_MIN=30
MIN_NOTIONAL_USD=250000

# Telegram: принимаем только подтверждённые + строгие пороги + троттлинг
TG_ONLY_CONFIRMED=1
TG_ALLOW_TYPES=confirmed_long,confirmed_short
TG_BLOCK_TYPES=pre_long,pre_short
TG_MIN_Z=3.0
TG_MIN_VOLX=3.0
TG_MIN_VOL24H=50000000
TG_DEDUP_SECONDS=1200
TG_THROTTLE_RPS=0.2
TG_THROTTLE_BURST=1
TG_RESPECT_RETRY_AFTER=1
# ============================================
